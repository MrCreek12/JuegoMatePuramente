<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lucha contra Don Mate v10.1 - Impact Edition</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

  <div class="stars-container" id="stars-container"></div>

  <!-- MENÚ PRINCIPAL -->
  <div id="menu-container" class="menu-container">
    <div class="menu-content">
      <div class="menu-info">
        <h3 class="subject-title"> Matemática</h3>
        <h1 class="game-title">Lucha contra Don Mate</h1>
        <p class="game-description">
          ¡Tu misión es derrotar al malvado Don Mate! Resuelve los problemas matemáticos para lanzar ataques devastadores. ¡Demuestra tus conocimientos y llega lo más lejos posible!
        </p>
        <div class="game-meta">
          <div class="meta-item">
            <span class="meta-label">Tiempo</span>
            <span class="meta-value">5 min</span>
          </div>
          <div class="meta-item">
            <span class="meta-label">Tu Mejor Récord</span>
            <span class="meta-value">0 Puntos</span>
          </div>
        </div>
        <button id="startGameBtn" class="cta-button">Empezar</button>
      </div>
      <div class="menu-image">
        <div class="image-placeholder-neon">
          <svg viewBox="0 0 100 100" preserveAspectRatio="xMidYMid meet"><rect x="5" y="5" width="90" height="90" style="fill:none;stroke:currentColor;stroke-width:4" /><circle cx="68" cy="45" r="10" style="fill:none;stroke:currentColor;stroke-width:4" /><line x1="22" y1="35" x2="48" y2="55" style="stroke:currentColor;stroke-width:4" /><line x1="48" y1="35" x2="22" y2="55" style="stroke:currentColor;stroke-width:4" /></svg>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Contenedor del Juego -->
  <div id="game-container" class="game-container hidden">
    
    <!-- === NUEVO: Elementos para la Pausa === -->
    <button id="pauseBtn" class="pause-button hidden">⏸</button>
    <div id="pause-overlay" class="pause-overlay hidden">
        <h2>Juego en pausa</h2>
        <p id="math-tip"></p>
    </div>
    <!-- ===================================== -->

    <div id="countdown-overlay" class="countdown-overlay hidden">
        <span id="countdown-text"></span>
    </div>

    <div id="attackFlash" class="attack-flash"></div>
    
    <div id="game-header" class="game-display">
        <div id="scoreDisplay" class="score-display"></div>
        <p class="timer" id="timer"></p>
    </div>

    <div class="character-info player">
      <h2>Tú</h2>
      <div class="health-bar-container"><div id="playerLifeBar" class="health-bar-fill player"></div></div>
      <p class="hp-text" id="playerHpText"></p>
    </div>
    <div id="playerCharacter" class="character-container player-character"><svg viewBox="0 0 100 100" preserveAspectRatio="none"><polygon points="50,5 95,25 95,75 50,95 5,75 5,25" style="fill:none;stroke:currentColor;stroke-width:8" /><circle cx="35" cy="40" r="8" style="fill:none;stroke:currentColor;stroke-width:8" /><circle cx="65" cy="40" r="8" style="fill:none;stroke:currentColor;stroke-width:8" /></svg></div>
    
    <div class="character-info enemy">
      <h2>Don Mate</h2><div class="health-bar-container"><div id="bossLifeBar" class="health-bar-fill enemy"></div></div>
      <p class="hp-text" id="bossHpText"></p>
    </div>
    <div id="enemyCharacter" class="character-container enemy-character"><svg viewBox="0 0 100 100" preserveAspectRatio="none"><rect x="5" y="5" width="90" height="90" style="fill:none;stroke:currentColor;stroke-width:8" /><circle cx="68" cy="45" r="10" style="fill:none;stroke:currentColor;stroke-width:8" /><line x1="22" y1="35" x2="48" y2="55" style="stroke:currentColor;stroke-width:8" /><line x1="48" y1="35" x2="22" y2="55" style="stroke:currentColor;stroke-width:8" /></svg></div>
    
    <div id="villainSpeechBubble" class="speech-bubble"></div>
    
    <div class="game-ui">
        <p class="question" id="question"></p>
        <p class="feedback" id="feedback"></p>
        <div class="answer-options" id="answerOptions"></div>
    </div>
    
    <div id="finalMessage" class="final-message"></div>
  </div>

  <!-- Audio Elements - NUEVOS -->
  <audio id="bgMusic" loop preload="auto">
    <source src="TheFatRat - Fire [Chapter 8].mp3" type="audio/mpeg">
    <source src="audio/bg_music.ogg" type="audio/ogg">
    Tu navegador no soporta el elemento de audio.
  </audio>
  <audio id="sfxCorrect" preload="auto">
    <source src="sfxCorrect.wav" type="audio/wav">
    <source src="audio/correct_sfx.ogg" type="audio/ogg">
  </audio>
  <audio id="sfxIncorrect" preload="auto">
    <source src="sfxIncorrect.wav" type="audio/wav">
    <source src="audio/incorrect_sfx.ogg" type="audio/ogg">
  </audio>
  <audio id="sfxPlayerAttack" preload="auto">
    <source src="sfxPlayerAttack.wav" type="audio/wav">
    <source src="audio/player_attack_sfx.ogg" type="audio/ogg">
  </audio>
  <audio id="sfxEnemyHit" preload="auto">
    <source src="sfxEnemyHit.wav" type="audio/wav">
    <source src="audio/enemy_hit_sfx.ogg" type="audio/ogg">
  </audio>
  <audio id="sfxPlayerHit" preload="auto">
    <source src="sfxPlayerHit.wav" type="audio/wav">
    <source src="audio/player_hit_sfx.ogg" type="audio/ogg">
  </audio>
  <audio id="sfxWin" preload="auto">
    <source src="sfxWin.wav" type="audio/wav">
    <source src="audio/win_sfx.ogg" type="audio/ogg">
  </audio>
  <audio id="sfxLose" preload="auto">
    <source src="sfxLose.wav" type="audio/wav">
    <source src="audio/lose_sfx.ogg" type="audio/ogg">
  </audio>
  <audio id="sfxButton" preload="auto">
    <source src="sfxButton.wav" type="audio/wav">
    <source src="audio/button_sfx.ogg" type="audio/ogg">
  </audio>
  <audio id="sfxCountdown" preload="auto">
    <source src="sfxCountdown.wav" type="audio/wav">
    <source src="audio/countdown_sfx.ogg" type="audio/ogg">
  </audio>
  <audio id="sfxTimerWarning" preload="auto">
    <source src="sfxTimeWarning.wav" type="audio/wav">
    <source src="audio/timer_warning_sfx.ogg">
  </audio>

  <script src="script.js" defer></script>
</body>
</html>